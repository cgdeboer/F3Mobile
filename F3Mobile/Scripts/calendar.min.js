define(["jquery"],function(n){function s(t){i=t.client_id;h();n("#authorize-button").on("click",function(){return gapi.auth.authorize({client_id:i,scope:r,immediate:!1},e),!1});n("#logout-button").on("click",function(){gapi.auth.signOut();n.ajax({url:"https://accounts.google.com/o/oauth2/revoke?token="+f,type:"get",dataType:"jsonp"}).success(function(){document.location.reload()})})}function h(){t("checkAuth");try{gapi.auth.authorize({client_id:i,scope:r,immediate:!0},e)}catch(n){t("auth call failed: "+n.message)}}function e(n){var t=document.getElementById("authorize-div");n&&!n.error?(t.style.display="none",f=n.access_token,c(),o(!0)):(o(!1),t.style.display="inline")}function o(t){n("#logout-div").toggle(t)}function c(){t("load calendar");gapi.client.load("calendar","v3",a)}function a(){for(var t,n=0;n<u.length;n++)t=u[n],y(t)}function v(t){var r=n("#itemHolder"),i;r.append("<div><p>"+t.name+"<\/p><\/div>");i="<ul class='list-group'>";n.each(t.items,function(n,t){i+='<li class="list-group-item">'+t.start.date+" - "+t.summary+"<\/li>"});i+="<\/ul>";r.append(i)}function t(n){toastr.info(n)}function y(n){t("get: "+n.name);var i=gapi.client.calendar.events.list({calendarId:n.id,timeMin:(new Date).toISOString(),showDeleted:!1,singleEvents:!0,maxResults:10,orderBy:"startTime"});i.execute(function(t){var i={name:n.name,items:t.items};i.items.length>0&&(l.push(i),v(i))})}var r=["https://www.googleapis.com/auth/calendar.readonly"],u=[{name:"Bagpipe",id:"l5jvg6rn8d1bpcqg76l14hoq7o@group.calendar.google.com"},{name:"Stonehenge",id:"1gb26eve59nn0ipbpn33ud9tk8@group.calendar.google.com"},{name:"The Brave",id:"um2l72805ggd9nqoq411nf6p50@group.calendar.google.com"},{name:"The Maul",id:"sn0n3fk13inesa7cju33fpejg4@group.calendar.google.com"}],f="",i="",l=[];return{initialize:s}});
//# sourceMappingURL=calendar.min.js.map
